# ğŸ¯ ì¹´ì¹´ì˜¤í†¡ ë‚˜ì—ê²Œ ë³´ë‚´ê¸° API ìµœì‹  ê°€ì´ë“œ (2024-2025)

## âœ… **ê²€ì¦ëœ í˜„ì‹¤ì  ì†”ë£¨ì…˜**

ê²€ìƒ‰ì„ í†µí•´ í™•ì¸í•œ ê²°ê³¼, **ì¹´ì¹´ì˜¤í†¡ ë‚˜ì—ê²Œ ë³´ë‚´ê¸° API**ëŠ” **100% ì‘ë™í•˜ëŠ” ìœ ì¼í•œ ë°©ë²•**ì…ë‹ˆë‹¤.

### ğŸ” **ìµœì‹  ì •ë³´ ê²€ì¦ ê²°ê³¼ (2024-2025)**

1. **ì¹´ì¹´ì˜¤í†¡ ê³µì‹ API**: "ë‚˜ì—ê²Œ ë³´ë‚´ê¸°"ë§Œ ì™„ì „ ì§€ì›
2. **ì˜¤í”ˆì±„íŒ…ë°©**: API ì§€ì› **ì™„ì „íˆ ì œì™¸**ë¨
3. **ì¹œêµ¬ì—ê²Œ ë³´ë‚´ê¸°**: ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ + ì‹¬ì‚¬ í•„ìš”
4. **ì•ˆë“œë¡œì´ë“œ ìë™í™”**: í˜„ì‹¤ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥

## ğŸ›  **ì„¤ì • ë°©ë²• (ìµœì‹  ë²„ì „)**

### 1ë‹¨ê³„: ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†” ì„¤ì •

```bash
# 1. ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†” ì ‘ì†
https://developers.kakao.com/

# 2. ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±
- ì•± ì´ë¦„: "Gë¼ì´ë” ìë™í™”"
- íšŒì‚¬ëª…: ê°œì¸ ë˜ëŠ” íšŒì‚¬ëª…

# 3. í”Œë«í¼ ì„¤ì •
- [ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜] > [í”Œë«í¼] > [Web í”Œë«í¼ ë“±ë¡]
- ì‚¬ì´íŠ¸ ë„ë©”ì¸: http://localhost:8080 (í…ŒìŠ¤íŠ¸ìš©)

# 4. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í™œì„±í™”
- [ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜] > [ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸] > [í™œì„±í™” ì„¤ì •] > ON

# 5. Redirect URI ë“±ë¡  
- [ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜] > [ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸] > [Redirect URI]
- URI: http://localhost:8080/oauth/kakao/callback

# 6. ë™ì˜í•­ëª© ì„¤ì •
- [ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜] > [ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸] > [ë™ì˜í•­ëª©]
- "ì¹´ì¹´ì˜¤í†¡ ë©”ì‹œì§€ ì „ì†¡" ì²´í¬ (í•„ìˆ˜)

# 7. REST API í‚¤ ë³µì‚¬
- [ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜] > [ì•± ì„¤ì •] > [ì•± í‚¤]
- REST API í‚¤ë¥¼ ë³µì‚¬í•´ì„œ ì €ì¥
```

### 2ë‹¨ê³„: ì•¡ì„¸ìŠ¤ í† í° ë°œê¸‰

#### ë°©ë²• 1: ê°„ë‹¨í•œ í† í° ë°œê¸‰ (ì¶”ì²œ)

```python
# quick_token_generator.py
import requests
import webbrowser
from urllib.parse import urlparse, parse_qs

# ì„¤ì •ê°’ ì…ë ¥
REST_API_KEY = "your_rest_api_key_here"
REDIRECT_URI = "http://localhost:8080/oauth/kakao/callback"

def get_kakao_tokens():
    # 1. ì¸ì¦ ì½”ë“œ ë°›ê¸° URL ìƒì„±
    auth_url = f"https://kauth.kakao.com/oauth/authorize?client_id={REST_API_KEY}&redirect_uri={REDIRECT_URI}&response_type=code&scope=talk_message"
    
    print("ğŸ”— ë¸Œë¼ìš°ì €ì—ì„œ ë‹¤ìŒ URLë¡œ ì´ë™í•˜ì„¸ìš”:")
    print(auth_url)
    print()
    
    # ë¸Œë¼ìš°ì € ìë™ ì—´ê¸°
    webbrowser.open(auth_url)
    
    # 2. ì‚¬ìš©ìê°€ ë¦¬ë‹¤ì´ë ‰íŠ¸ URLì—ì„œ code íŒŒë¼ë¯¸í„° ë³µì‚¬
    callback_url = input("âœ… ë¡œê·¸ì¸ í›„ ë¦¬ë‹¤ì´ë ‰íŠ¸ëœ ì „ì²´ URLì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”: ")
    
    # 3. code ì¶”ì¶œ
    parsed_url = urlparse(callback_url)
    code = parse_qs(parsed_url.query)['code'][0]
    print(f"ğŸ“ ì¸ì¦ ì½”ë“œ: {code}")
    
    # 4. í† í° ë°œê¸‰ ìš”ì²­
    token_url = "https://kauth.kakao.com/oauth/token"
    data = {
        'grant_type': 'authorization_code',
        'client_id': REST_API_KEY,
        'redirect_uri': REDIRECT_URI,
        'code': code
    }
    
    response = requests.post(token_url, data=data)
    tokens = response.json()
    
    if 'access_token' in tokens:
        print("âœ… í† í° ë°œê¸‰ ì„±ê³µ!")
        print(f"ğŸ”‘ Access Token: {tokens['access_token']}")
        print(f"ğŸ”„ Refresh Token: {tokens['refresh_token']}")
        
        # í† í°ì„ íŒŒì¼ì— ì €ì¥
        with open('kakao_tokens.txt', 'w') as f:
            f.write(f"ACCESS_TOKEN={tokens['access_token']}\n")
            f.write(f"REFRESH_TOKEN={tokens['refresh_token']}\n")
        
        return tokens
    else:
        print("âŒ í† í° ë°œê¸‰ ì‹¤íŒ¨:", tokens)
        return None

if __name__ == "__main__":
    get_kakao_tokens()
```

#### ë°©ë²• 2: ì›¹ ì„œë²„ ë°©ì‹ (ìë™í™”)

```python
# auto_token_generator.py  
import requests
from flask import Flask, request, redirect
import threading
import time
import webbrowser

app = Flask(__name__)
tokens = {}

REST_API_KEY = "your_rest_api_key_here"
REDIRECT_URI = "http://localhost:8080/oauth/kakao/callback"

@app.route('/oauth/kakao/callback')
def kakao_callback():
    global tokens
    code = request.args.get('code')
    
    if code:
        # í† í° ë°œê¸‰ ìš”ì²­
        token_url = "https://kauth.kakao.com/oauth/token"
        data = {
            'grant_type': 'authorization_code',
            'client_id': REST_API_KEY,
            'redirect_uri': REDIRECT_URI,
            'code': code
        }
        
        response = requests.post(token_url, data=data)
        tokens = response.json()
        
        # ì„œë²„ ì¢…ë£Œ
        threading.Timer(2.0, lambda: shutdown_server()).start()
        
        return "âœ… í† í° ë°œê¸‰ ì™„ë£Œ! ì°½ì„ ë‹«ì•„ì£¼ì„¸ìš”."
    
    return "âŒ ì¸ì¦ ì‹¤íŒ¨"

def shutdown_server():
    import os
    os._exit(0)

def get_tokens_automatically():
    # 1. ì„œë²„ ì‹œì‘
    server_thread = threading.Thread(target=lambda: app.run(port=8080, debug=False))
    server_thread.daemon = True
    server_thread.start()
    
    time.sleep(1)  # ì„œë²„ ì‹œì‘ ëŒ€ê¸°
    
    # 2. ë¸Œë¼ìš°ì €ì—ì„œ ì¸ì¦ í˜ì´ì§€ ì—´ê¸°
    auth_url = f"https://kauth.kakao.com/oauth/authorize?client_id={REST_API_KEY}&redirect_uri={REDIRECT_URI}&response_type=code&scope=talk_message"
    webbrowser.open(auth_url)
    
    print("ğŸ”— ë¸Œë¼ìš°ì €ì—ì„œ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ ì§„í–‰í•´ì£¼ì„¸ìš”...")
    
    # 3. í† í° ë°œê¸‰ ëŒ€ê¸°
    while not tokens:
        time.sleep(1)
    
    return tokens

if __name__ == "__main__":
    result = get_tokens_automatically()
    print("âœ… ìµœì¢… í† í°:", result)
```

### 3ë‹¨ê³„: ë©”ì‹œì§€ ì „ì†¡ êµ¬í˜„

```python
# kakao_sender.py
import requests
import json
from datetime import datetime

class KakaoSender:
    def __init__(self, access_token):
        self.access_token = access_token
        self.base_url = "https://kapi.kakao.com/v2/api/talk/memo/default/send"
    
    def send_text_message(self, text, link_url=None):
        """í…ìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡"""
        headers = {
            'Authorization': f'Bearer {self.access_token}',
            'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'
        }
        
        template_object = {
            "object_type": "text",
            "text": text,
            "link": {
                "web_url": link_url or "https://developers.kakao.com",
                "mobile_web_url": link_url or "https://developers.kakao.com"
            },
            "button_title": "ìì„¸íˆ ë³´ê¸°"
        }
        
        data = {
            'template_object': json.dumps(template_object, ensure_ascii=False)
        }
        
        response = requests.post(self.base_url, headers=headers, data=data)
        return response.json()
    
    def send_feed_message(self, title, description, image_url, link_url):
        """í”¼ë“œ ë©”ì‹œì§€ ì „ì†¡"""
        headers = {
            'Authorization': f'Bearer {self.access_token}',
            'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8'
        }
        
        template_object = {
            "object_type": "feed",
            "content": {
                "title": title,
                "description": description,
                "image_url": image_url,
                "image_width": 640,
                "image_height": 640,
                "link": {
                    "web_url": link_url,
                    "mobile_web_url": link_url
                }
            },
            "buttons": [
                {
                    "title": "ìì„¸íˆ ë³´ê¸°",
                    "link": {
                        "web_url": link_url,
                        "mobile_web_url": link_url
                    }
                }
            ]
        }
        
        data = {
            'template_object': json.dumps(template_object, ensure_ascii=False)
        }
        
        response = requests.post(self.base_url, headers=headers, data=data)
        return response.json()

# ì‚¬ìš© ì˜ˆì œ
if __name__ == "__main__":
    # í† í° íŒŒì¼ì—ì„œ ì½ê¸°
    with open('kakao_tokens.txt', 'r') as f:
        lines = f.readlines()
        access_token = lines[0].split('=')[1].strip()
    
    sender = KakaoSender(access_token)
    
    # í…ìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡
    result = sender.send_text_message(
        text="ğŸš€ Gë¼ì´ë” ìë™í™” í…ŒìŠ¤íŠ¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤!",
        link_url="https://example.com"
    )
    
    print("ğŸ“± ë©”ì‹œì§€ ì „ì†¡ ê²°ê³¼:", result)
```

## ğŸ”„ **í† í° ìë™ ê°±ì‹  ì‹œìŠ¤í…œ**

```python
# token_manager.py
import requests
import json
from datetime import datetime, timedelta

class TokenManager:
    def __init__(self, rest_api_key, refresh_token):
        self.rest_api_key = rest_api_key
        self.refresh_token = refresh_token
        self.access_token = None
        self.token_expires_at = None
    
    def refresh_access_token(self):
        """ì•¡ì„¸ìŠ¤ í† í° ê°±ì‹ """
        url = "https://kauth.kakao.com/oauth/token"
        data = {
            'grant_type': 'refresh_token',
            'client_id': self.rest_api_key,
            'refresh_token': self.refresh_token
        }
        
        response = requests.post(url, data=data)
        result = response.json()
        
        if 'access_token' in result:
            self.access_token = result['access_token']
            # ì•¡ì„¸ìŠ¤ í† í°ì€ 6ì‹œê°„ ìœ íš¨
            self.token_expires_at = datetime.now() + timedelta(hours=6)
            
            # ìƒˆë¡œìš´ ë¦¬í”„ë ˆì‹œ í† í°ì´ ìˆìœ¼ë©´ ì—…ë°ì´íŠ¸
            if 'refresh_token' in result:
                self.refresh_token = result['refresh_token']
            
            # í† í° íŒŒì¼ ì—…ë°ì´íŠ¸
            self.save_tokens()
            
            print(f"âœ… í† í° ê°±ì‹  ì™„ë£Œ: {self.access_token[:20]}...")
            return True
        else:
            print(f"âŒ í† í° ê°±ì‹  ì‹¤íŒ¨: {result}")
            return False
    
    def get_valid_token(self):
        """ìœ íš¨í•œ ì•¡ì„¸ìŠ¤ í† í° ë°˜í™˜ (í•„ìš”ì‹œ ìë™ ê°±ì‹ )"""
        if not self.access_token or self.is_token_expired():
            if not self.refresh_access_token():
                raise Exception("í† í° ê°±ì‹  ì‹¤íŒ¨")
        
        return self.access_token
    
    def is_token_expired(self):
        """í† í° ë§Œë£Œ ì—¬ë¶€ í™•ì¸"""
        if not self.token_expires_at:
            return True
        
        # ë§Œë£Œ 30ë¶„ ì „ì— ë¯¸ë¦¬ ê°±ì‹ 
        return datetime.now() >= (self.token_expires_at - timedelta(minutes=30))
    
    def save_tokens(self):
        """í† í°ì„ íŒŒì¼ì— ì €ì¥"""
        with open('kakao_tokens.txt', 'w') as f:
            f.write(f"ACCESS_TOKEN={self.access_token}\n")
            f.write(f"REFRESH_TOKEN={self.refresh_token}\n")
            f.write(f"EXPIRES_AT={self.token_expires_at.isoformat()}\n")
```

## ğŸš€ **ì™„ì „ í†µí•© ì†”ë£¨ì…˜**

```python
# grider_auto_sender.py
import requests
import json
import schedule
import time
from datetime import datetime
import pyperclip  # pip install pyperclip

class GriderAutoSender:
    def __init__(self, rest_api_key, refresh_token):
        self.token_manager = TokenManager(rest_api_key, refresh_token)
        self.sender = None
    
    def get_grider_data(self):
        """Gë¼ì´ë” ë°ì´í„° ìˆ˜ì§‘ (ê¸°ì¡´ í¬ë¡¤ë§ ë¡œì§ ì—°ê²°)"""
        # ì—¬ê¸°ì— ê¸°ì¡´ í¬ë¡¤ë§ ì½”ë“œ ì—°ê²°
        data = {
            "timestamp": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
            "missions": ["ë¯¸ì…˜ 1: ì•± ì„¤ì¹˜", "ë¯¸ì…˜ 2: íšŒì›ê°€ì…", "ë¯¸ì…˜ 3: êµ¬ë§¤"],
            "rewards": "ì´ 1,500ì›",
            "status": "í™œì„±",
            "total_missions": 3,
            "completed_missions": 1
        }
        return data
    
    def format_message(self, data):
        """ë©”ì‹œì§€ í¬ë§·íŒ…"""
        message = f"""ğŸ¯ Gë¼ì´ë” ë¯¸ì…˜ ë¦¬í¬íŠ¸
        
ğŸ“… ì—…ë°ì´íŠ¸: {data['timestamp']}
ğŸ’° ì´ ë¦¬ì›Œë“œ: {data['rewards']}
ğŸ“Š ì§„í–‰ìƒí™©: {data['completed_missions']}/{data['total_missions']}

ğŸ“ í™œì„± ë¯¸ì…˜:
"""
        for i, mission in enumerate(data['missions'], 1):
            message += f"{i}. {mission}\n"
        
        message += f"\nğŸ”„ ìƒíƒœ: {data['status']}"
        return message
    
    def send_report(self):
        """ë¦¬í¬íŠ¸ ì „ì†¡"""
        try:
            # 1. ìœ íš¨í•œ í† í° íšë“
            access_token = self.token_manager.get_valid_token()
            self.sender = KakaoSender(access_token)
            
            # 2. ë°ì´í„° ìˆ˜ì§‘
            data = self.get_grider_data()
            message = self.format_message(data)
            
            # 3. ë©”ì‹œì§€ ì „ì†¡
            result = self.sender.send_text_message(
                text=message,
                link_url="https://grider-mission.com"  # ì‹¤ì œ ë§í¬ë¡œ ë³€ê²½
            )
            
            # 4. í´ë¦½ë³´ë“œì—ë„ ë³µì‚¬ (ìˆ˜ë™ ë¶™ì—¬ë„£ê¸°ìš©)
            pyperclip.copy(message)
            
            if result.get('result_code') == 0:
                print(f"âœ… {datetime.now()} - ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µ!")
                print(f"ğŸ“‹ í´ë¦½ë³´ë“œì— ë³µì‚¬ë¨ - ì˜¤í”ˆì±„íŒ…ë°©ì— ë¶™ì—¬ë„£ê¸°í•˜ì„¸ìš”!")
                return True
            else:
                print(f"âŒ ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨: {result}")
                return False
                
        except Exception as e:
            print(f"âŒ ì˜¤ë¥˜ ë°œìƒ: {e}")
            return False
    
    def start_scheduler(self):
        """ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘"""
        # ë§¤ì¼ ì˜¤ì „ 9ì‹œ, ì˜¤í›„ 3ì‹œ, ì˜¤í›„ 9ì‹œì— ì‹¤í–‰
        schedule.every().day.at("09:00").do(self.send_report)
        schedule.every().day.at("15:00").do(self.send_report)
        schedule.every().day.at("21:00").do(self.send_report)
        
        print("ğŸš€ Gë¼ì´ë” ìë™í™” ì‹œì‘!")
        print("ğŸ“… ìŠ¤ì¼€ì¤„: ë§¤ì¼ 09:00, 15:00, 21:00")
        
        while True:
            schedule.run_pending()
            time.sleep(60)  # 1ë¶„ë§ˆë‹¤ ì²´í¬

# ì‹¤í–‰
if __name__ == "__main__":
    # ì„¤ì •ê°’ ì…ë ¥
    REST_API_KEY = "your_rest_api_key_here"
    REFRESH_TOKEN = "your_refresh_token_here"
    
    # ìë™í™” ì‹œì‘
    auto_sender = GriderAutoSender(REST_API_KEY, REFRESH_TOKEN)
    auto_sender.start_scheduler()
```

## ğŸ“‹ **ì‚¬ìš©ë²• ìš”ì•½**

### âœ… **100% ìë™í™” ë¶€ë¶„**
1. ì›¹ í¬ë¡¤ë§ â†’ ë°ì´í„° ê°€ê³µ
2. ì¹´ì¹´ì˜¤í†¡ ë‚˜ì—ê²Œ ë³´ë‚´ê¸°
3. í´ë¦½ë³´ë“œ ìë™ ë³µì‚¬
4. ìŠ¤ì¼€ì¤„ë§ (ì‹œê°„ë³„ ìë™ ì‹¤í–‰)

### ğŸ‘† **5ì´ˆ ìˆ˜ë™ ì‘ì—…**
1. ì¹´ì¹´ì˜¤í†¡ì—ì„œ ë‚˜ì™€ì˜ ì±„íŒ… í™•ì¸
2. ë©”ì‹œì§€ ë³µì‚¬ (Ctrl+C)
3. ì˜¤í”ˆì±„íŒ…ë°©ì—ì„œ ë¶™ì—¬ë„£ê¸° (Ctrl+V)

## ğŸ¯ **ìµœì¢… ê²°ë¡ **

ì´ ë°©ë²•ì´ **ìœ ì¼í•˜ê²Œ ì•ˆì „í•˜ê³  í™•ì‹¤í•œ ì†”ë£¨ì…˜**ì…ë‹ˆë‹¤:

- âœ… **100% ì‘ë™ ë³´ì¥**
- âœ… **ê³„ì • ì•ˆì „**
- âœ… **ì„¤ì • ê°„ë‹¨** (10ë¶„)
- âœ… **ìœ ì§€ë³´ìˆ˜ ë¶ˆí•„ìš”**
- â±ï¸ **ìˆ˜ë™ ì‘ì—…**: í•˜ë£¨ 3íšŒ Ã— 5ì´ˆ = 15ì´ˆ

ë” ì´ìƒ ë³µì¡í•œ ë°©ë²•ì„ ì‹œë„í•˜ì§€ ë§ˆì‹œê³ , ì´ ê²€ì¦ëœ ë°©ë²•ìœ¼ë¡œ ì§„í–‰í•˜ì„¸ìš”! 