name: ğŸš€ ì‹¬í”Œ ë°°ë¯¼ ëŒ€ì‹œë³´ë“œ ë°°í¬

on:
  push:
    branches: [ main ]
    paths: 
      - 'semiauto/dashboard/**'
  pull_request:
    branches: [ main ]
    paths: 
      - 'semiauto/dashboard/**'
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v4

      - name: ğŸ”§ í˜ì´ì§€ ì„¤ì •
        uses: actions/configure-pages@v4

      - name: ğŸ“¦ ëŒ€ì‹œë³´ë“œ ë¹Œë“œ
        run: |
          # ëŒ€ì‹œë³´ë“œ íŒŒì¼ë“¤ì„ _site ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬
          mkdir -p _site
          cp -r semiauto/dashboard/* _site/
          
          # ë©”ì¸ ì¸ë±ìŠ¤ í˜ì´ì§€ ìƒì„±
          cat > _site/README.md << 'EOF'
          # ğŸ›ï¸ ì‹¬í”Œ ë°°ë¯¼ í†µí•© ì œì–´ ì„¼í„°
          
          ## ğŸ“‹ ì£¼ìš” í˜ì´ì§€
          
          - [ğŸ›ï¸ í†µí•© ì œì–´ ì„¼í„°](control-center.html) - ëª¨ë“  ê¸°ëŠ¥ì„ í•œëˆˆì— ì œì–´
          - [ğŸ“Š ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ](index.html) - ì‹¤ì‹œê°„ ë°ì´í„° ëª¨ë‹ˆí„°ë§
          - [ğŸ§ª ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸](test-functions.html) - ëª¨ë“  ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
          
          ## âœ¨ ì£¼ìš” ê¸°ëŠ¥
          
          - 15ê°œ ê¸°ëŠ¥ ì™„ì „ í†µí•© ì œì–´
          - 4ê°€ì§€ í…Œë§ˆ ì‹¤ì‹œê°„ ë³€ê²½
          - ì„¤ì • ì €ì¥ ë° ë™ê¸°í™”
          - ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ
          - í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì§€ì›
          EOF
          
          # í™ˆí˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰íŠ¸ ìƒì„±
          cat > _site/homepage.html << 'EOF'
          <!DOCTYPE html>
          <html lang="ko">
          <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <title>ğŸ›ï¸ ì‹¬í”Œ ë°°ë¯¼ í†µí•© ì œì–´ ì„¼í„°</title>
              <style>
                  body {
                      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                      margin: 0;
                      padding: 2rem;
                      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
                      color: white;
                      text-align: center;
                      min-height: 100vh;
                  }
                  .container {
                      max-width: 800px;
                      margin: 0 auto;
                      background: rgba(255,255,255,0.1);
                      border-radius: 16px;
                      padding: 3rem;
                  }
                  .btn {
                      display: inline-block;
                      background: #667eea;
                      color: white;
                      text-decoration: none;
                      padding: 1rem 2rem;
                      border-radius: 8px;
                      margin: 1rem;
                      font-size: 1.1rem;
                      font-weight: 500;
                      transition: all 0.3s ease;
                  }
                  .btn:hover {
                      background: #5a6fd8;
                      transform: translateY(-2px);
                  }
                  .feature-grid {
                      display: grid;
                      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                      gap: 1rem;
                      margin: 2rem 0;
                  }
                  .feature-card {
                      background: rgba(255,255,255,0.2);
                      border-radius: 12px;
                      padding: 1.5rem;
                  }
              </style>
          </head>
          <body>
              <div class="container">
                  <h1>ğŸ›ï¸ ì‹¬í”Œ ë°°ë¯¼ í†µí•© ì œì–´ ì„¼í„°</h1>
                  <p>ëª¨ë“  ê¸°ëŠ¥ì„ í•˜ë‚˜ì˜ ëŒ€ì‹œë³´ë“œì—ì„œ í†µí•© ì œì–´í•˜ì„¸ìš”!</p>
                  
                  <div>
                      <a href="control-center.html" class="btn">ğŸ›ï¸ ì œì–´ ì„¼í„° ì‹œì‘</a>
                      <a href="index.html" class="btn">ğŸ“Š ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ</a>
                      <a href="test-functions.html" class="btn">ğŸ§ª ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</a>
                  </div>
                  
                  <div class="feature-grid">
                      <div class="feature-card">
                          <h3>ğŸ¯ 15ê°œ ê¸°ëŠ¥ í†µí•©</h3>
                          <p>ëª¨ë“  ì‹œìŠ¤í…œì„ í•˜ë‚˜ì˜ ì œì–´íŒì—ì„œ ê´€ë¦¬</p>
                      </div>
                      <div class="feature-card">
                          <h3>ğŸ¨ ì‹¤ì‹œê°„ í…Œë§ˆ</h3>
                          <p>4ê°€ì§€ í…Œë§ˆë¡œ ì¦‰ì‹œ ë³€ê²½ ê°€ëŠ¥</p>
                      </div>
                      <div class="feature-card">
                          <h3>ğŸ’¾ ì„¤ì • ì €ì¥</h3>
                          <p>ëª¨ë“  ì„¤ì •ì´ ìë™ìœ¼ë¡œ ì €ì¥</p>
                      </div>
                      <div class="feature-card">
                          <h3>ğŸ”” ì‹¤ì‹œê°„ ì•Œë¦¼</h3>
                          <p>ëª¨ë“  ì‘ì—…ì— ì¦‰ê°ì ì¸ í”¼ë“œë°±</p>
                      </div>
                  </div>
                  
                  <p style="margin-top: 2rem; opacity: 0.8;">
                      ğŸš€ GitHub Pagesë¡œ ë°°í¬ëœ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
                  </p>
              </div>
          </body>
          </html>
          EOF
          
          # íŒŒì¼ ëª©ë¡ í™•ì¸
          echo "ğŸ“ ë°°í¬ë  íŒŒì¼ë“¤:"
          find _site -type f -name "*.html" | head -20

      - name: ğŸ“¤ ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ
        uses: actions/upload-pages-artifact@v3

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: ğŸŒ GitHub Pages ë°°í¬
        id: deployment
        uses: actions/deploy-pages@v4 